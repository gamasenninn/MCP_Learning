[tool:pytest]
# pytest設定ファイル

# テストディレクトリ
testpaths = tests

# テストファイルのパターン
python_files = test_*.py *_test.py

# テスト関数のパターン  
python_functions = test_*

# テストクラスのパターン
python_classes = Test*

# 最小python version
minversion = 3.8

# 出力オプション
addopts = 
    -v
    --tb=short
    --color=yes
    --durations=10
    -W ignore::pytest.PytestUnknownMarkWarning

# マーカー定義
markers =
    unit: 単体テスト - 個別コンポーネントのテスト
    integration: 統合テスト - コンポーネント間の連携テスト  
    functional: 機能テスト - エンドツーエンドの機能テスト
    slow: 実行時間の長いテスト
    gpt5: GPT-5関連のテスト
    encoding: エンコーディング関連のテスト
    real: 実際のAPI/サービスを使用するテスト
    requires_api: API KEYが必要なテスト
    expensive: 課金が発生する可能性のあるテスト
    e2e: エンドツーエンドの実環境テスト
    smoke: 最小限のリアル環境確認テスト

# 非同期テスト設定
asyncio_mode = auto

# ログレベル
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# 警告フィルター
filterwarnings =
    ignore::pytest.PytestUnknownMarkWarning